# 此文档介绍

## 00 效果说明

01 下载此仓库，把demo.html放在桌面，并且用任意现代浏览器(如chrome)打开demo.html.

02 浏览器打开demo后，红色数字 默认 以美国风格格式显示。

03 点击 英式显示 OR RANDOM。看看有什么效果

04 关闭浏览器 / 或重启计算机

05 重新用chrome打开此页面，查看效果。
你会发现，浏览器按你上次的设置来处理。

## 01 综合描述

此demo当然并不完美，还有其他地方可以优化，
但**主要目的**是 展示 效果。

核心功能由**localStorage**实现。

通过**localStorage**，可以实现：
不需要 额外 数据库代码；
不需要 额外 服务器VS数据库交互逻辑/代码；
不需要 额外 服务器VS前端 交互逻辑/代码；

只需要JS完成这两项任务：
01 JS用浏览器自带的localStorage功能，存储几个设定好的英语单词中的一个英语单词。

即把用户偏好记录下来，关闭浏览器 / 刷新 / 重启计算机，都不会丢失信息。

02 前端JS代码根据上次记录 / 当前提取的英文单词，选择性的转换格式。

## 02 优缺点说明

**优点**：
01 后端没有额外工作量；
02 前端逻辑处理也不是很复杂，localStorage API量少且简单；
03 可扩展性强，比如后期要加 / 减 一些格式转换选项，只需前端处理。而且不会太复杂。
04 试错成本低。

**缺点**：
**01** 
我试过了，chrome 和 Firefox支持localStorage功能，相当稳定。

BUT Microsoft 自带的 edge 浏览器不支持localStorage。

SO，如果有用户坚持要使用 Microsoft edge，那localStorage无法记录用户偏好。

第二个BUT，我找到了一个JS库，7KB左右，可以实现对Microsoft edge支持，实现localStorage一样的功能。demo我也做出来了。

**02** 
因为只需要服务器提供一种格式的数据，SO 每次页面渲染时候，浏览器都需要把服务器提供的数据 格式 转换 一次，然后渲染。

此操作 完全是 浏览器本地操作，初次 获取数据后，不需 要跟后端有交互。
现代浏览器功能强大，执行JS操作 非常有效率，性能方面，我觉得不会给用户造成太大困扰，可以满足用户需求。

**03** 
PC1 chrome上面，A用户 第一次 使用我们服务。
他设置了金额显示偏好。
localStorage会记录他的偏好。
第二次，第三次...A用户访问，页面金额显示都会根据这个偏好来。

但是这个偏好只存在PC1 chrome浏览器上面。

用户A如果用PC1 Firefox 或者 PC2 chrome访问，
第一次仍然需要配置一下，
第二次，第三次，就不需要。

用户在username模块配置的话，也就十几秒的事情，不会给用户造成很大的困扰。
